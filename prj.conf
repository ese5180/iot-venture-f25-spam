# Nordic sample defaults
# CONFIG_NCS_SAMPLES_DEFAULTS=y

# # --- Bluetooth general ---
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="PostureCare"
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_GATT_NOTIFY_MULTIPLE=y
CONFIG_BT_BUF_ACL_TX_COUNT=10
CONFIG_BT_BUF_EVT_RX_COUNT=12


# # LBS (you can later remove if unused; harmless for now)
# CONFIG_BT_LBS=y
# CONFIG_BT_LBS_POLL_BUTTON=y
# CONFIG_DK_LIBRARY=y

# # --- Nordic UART Service (NUS) ---
# # Zephyr 4/NCS v3.0 switched NUS to BT_ZEPHYR_NUS*
CONFIG_BT_ZEPHYR_NUS=y
# CONFIG_BT_ZEPHYR_NUS_DEFAULT_INSTANCE=y
# CONFIG_BT_MAX_CONN=1
# CONFIG_BT_MAX_PAIRED=1

# --- Servo support ---
CONFIG_GPIO=y
CONFIG_PWM=y

# --- Logging & printf with floats (for servo angle logs) ---
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
CONFIG_CBPRINTF_FP_SUPPORT=y

# # --- FOTA over Bluetooth (your existing config) ---
# CONFIG_NCS_SAMPLE_MCUMGR_BT_OTA_DFU=y

# # MCUboot + flash
# CONFIG_BOOTLOADER_MCUBOOT=y
# CONFIG_FLASH=y
# CONFIG_FLASH_PAGE_LAYOUT=y
# CONFIG_IMG_ERASE_PROGRESSIVELY=y


# Motion sensor
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_LSM6DSO=y
CONFIG_FPU=y
CONFIG_MAIN_STACK_SIZE=4096


# # ============ MEMFAULT CONFIGURATION ============
# # This overlay ADDS to your existing prj.conf without conflicts

# CONFIG_MEMFAULT=y
# CONFIG_MEMFAULT_SHELL=y
# CONFIG_MEMFAULT_LOGGING_ENABLE=y
# CONFIG_MEMFAULT_LOG_LEVEL_INF=y
# CONFIG_MEMFAULT_NCS_BT_METRICS=y

# # Project identification
# CONFIG_MEMFAULT_NCS_PROJECT_KEY="${MEMFAULT_KEY}"
# CONFIG_MEMFAULT_NCS_FW_VERSION_STATIC=y
# CONFIG_MEMFAULT_NCS_FW_VERSION="${{ env.VERSION }}"
# CONFIG_MEMFAULT_NCS_FW_TYPE="ci-${{ matrix.app.build_name }}"
# CONFIG_MEMFAULT_NCS_DEVICE_ID_STATIC=y
# CONFIG_MEMFAULT_NCS_DEVICE_ID="ci-${{ matrix.app.build_name }}-dev01"

# # Disable hw_id (prevents network dependency issue you had earlier)
# CONFIG_HW_ID_LIBRARY=n

# # Device Info Service (you don't have this yet - adds OTA compatibility)
# CONFIG_BT_DIS=y
# CONFIG_BT_DIS_SERIAL_NUMBER=y
# CONFIG_BT_DIS_SERIAL_NUMBER_STR="ci-${{ matrix.app.build_name }}-dev01"
# CONFIG_BT_DIS_HW_REV=y
# CONFIG_BT_DIS_HW_REV_STR="nrf7002dk_nrf5340"
# CONFIG_BT_DIS_SW_REV=y
# CONFIG_BT_DIS_SW_REV_STR="main"
# CONFIG_BT_DIS_FW_REV=y
# CONFIG_BT_DIS_FW_REV_STR="${{ env.VERSION }}"

# # MCUmgr for OTA (complements your existing NCS_SAMPLE_MCUMGR_BT_OTA_DFU)
# CONFIG_MCUMGR_GRP_OS_INFO=y

# # Bluetooth settings (won't conflict, just ensures compatibility)
# CONFIG_BT_SMP=y
# CONFIG_BT_SETTINGS=y

# # Flash settings (you already have FLASH=y, these add details)
# CONFIG_FLASH_MAP=y
# CONFIG_STREAM_FLASH=y
# CONFIG_IMG_MANAGER=y
# CONFIG_DFU_TARGET=y
# CONFIG_DFU_TARGET_MCUBOOT=y

# # Heap for Memfault (small, won't hurt)
# CONFIG_HEAP_MEM_POOL_SIZE=4096

# adc setting
CONFIG_ADC=y
